# Разработка сценариев bash

## Введение
В данной лабораторной работе вы сможете расширить и закрепить ваши познания в области программирования
на языке bash, а также научитесь решать различные задачи при помощи сценариев командной строки.

Перед работой рекомендуем вам скачать Visual Studio Code - редактор кода для кроссплатформенной разработки и
установить необходимые расширения для удобства написания bash-скриптов.

## Задание 1. Генератор компонентов

Ваша задача написать скрипт, который даст возможность создавать
компоненты со следующей структурой.
```
.UserCard/
├── Button/
│   ├── Button.module.scss
│   └── Button.tsx
├── UserCard.module.scss
├── UserCard.tsx
```

Также вам нужно написать генератор компонентов React по следующим шаблонам.

- `templates.tsx`

```typescript
// name: ""
import React, { ReactElement } from 'React'

import styles from './templates.module.scss'

export const templates = (): ReactElement => {
    return;
}
```

- `templates.module.scss`

```scss
// name: ""
.root{

}
```

Примечание:
- Вы можете добавить опцию `name` со следующими свойствами:
  задает имя файлам текущего расширения; находится в файлах шаблонов, при пустом значении опции
  устанавливает имя директории, в которой создаются файлы.
- Создание директорий можно проводить до момента ввода стоп-слова, указанного пользователем.

## Задание 2. Мониторинг сетевого подключения

В рамках этой задачи вам будет предложено написать скрипт, который будет проверять
соединение между хостами и портами различных устройств. Результаты соединения необходимо будет записывать в файл
`network_report`.

Примечание:
- В качестве усложнения задачи, вы можете хранить результаты
  в отчете по какому-нибудь принципу (например удалять записи старше определенного времени или же
  поддерживать строго определенное количество строк в файле)

## Задание 3. Ротация логов

Как известно, большинство программ и сервисов, работающих в фоновом режиме, записывают информацию
о своем состоянии, ошибках и работоспособности в журналы или, как их еще называют, _логи_. Находятся такие журналы обычно в папке /var/log.

Ваша задача, написать скрипт `log_rotate`, который будет копировать информацию с файла `logs` по достижении им определенного размера в другие файлы,
которые после будут архивированы. Сам файл после копирования необходимо будет очистить. Такая процедура поможет постоянно поддерживать определенный
размер журнала, а также экономит дисковое пространство.

Так как информация в `logs` будет добавляться непрерывно, ваша задача выполнять ротацию с момента каждого обновления файла.

Примечание:
- В процессе написания кода вам запрещено пользоваться logrotate и другими готовыми утилитами.
- В зависимости от вашей операционной системы, вам нужно будет воспользоваться различными утилитами по отслеживанию изменений в файле.
- Для названия сжатых файлов желательно использовать следующий формат: `log_<date>`.

## Задание 4. Настройка сетевых параметров

Итак, мы снова переходим к работе с сетью. Для выполнения этой задачи вам нужно будет написать простой скрипт,
который будет автоматически настраивать сетевые параметры и маршрутизацию на Linux, а также обрабатывать ошибки и выводить их в файл
`network_report`.

**Внимание!** При выполнении задачи предполагается, что вы знаете значения IP-адреса, маски подсети, шлюза и DNS-серверов, которые хотите
настроить. Также не стоит забывать, что данный скрипт может некорректно работать на уже настроенных устройствах и предназначен для первоначальной
настройки.

Примечание:
- Перед запуском этого скрипта вам может потребоваться выполнить его с правами суперпользователя (через sudo или как root), так как он
  изменяет сетевые параметры и перезапускает сетевой интерфейс.

## Задание 5. Резервное копирование

Приступая к выполнению финальной задачи, вам нужно будет написать скрипт `backup`, которые будет проводить рекурсивное резервное копирование
директории (т.е. с сохранением всей вложенной структуры) и отправлять результаты копирования в отчет. Также можно сохранять логи
последнего копирования в файл `backup-report`.

Примечание:
- Задавать начальные параметры (почту, папку для копирования и т.д.) вы можете как через аргументы при запуске скрипта, так и в виде констант.

## Дополнительные Источники:
1. [Шоттс Уильям, Командная строка Linux. Полное руководство. — СПб.: Питер, 2017. — 480 с.: ил. — (Серия «Для профессионалов»).](https://vk.com/wall-54530371_142749)
2. [Тейлор Дейв, Перри Брендон, Сценарии командной оболочки. Linux, OS X и Unix. 2-е изд. — СПб.: Питер, 2017. — 448 с.: ил. — (Серия «Для профессионалов»).](https://vk.com/wall-117227374_32680)
3. [Advanced Bash-Scripting Guide](https://se.ifmo.ru/~ad/Documentation/ABS_Guide_ru.html)
4. [Bash Reference Manual](https://www.gnu.org/software/bash/manual/bash.html)

